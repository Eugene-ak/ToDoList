

<header class="box" id="heading">
  <h1><%= listTitle %></h1>
</header>

<main class="box">
  <% for (object of listItems) { %>
  <section class="item">
    <input type="checkbox" name="checkbox" />
    <p><%= object.item %></p>
    <button class="delete-btn" name="<%= object._id %>" onclick="deleteFunc('<%= object._id %>')">Delete</button>
  </section>
  <% } %>

  <form class="item" method="post">
    <input
      type="text"
      name="newItem"
      placeholder="New Item"
      autocomplete="off"
    />
    <button class="button" type="submit" name="list">+</button>
  </form>
</main>

<script>
  const deleteFunc = (id) =>{
    fetch(`http://localhost:4000/${id}`, {
        method: 'DELETE',
        headers: {
            "Content-Type": "application/json"
        }
    })
    .then(
      () => {
        window.location.reload();
      }
    );
}
</script>
